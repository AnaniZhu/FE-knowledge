# Node



## 进程 & 线程

### 进程和线程的概念

进程是系统进行资源分配和调度的最小单位。

线程是系统能够进行运算调度的最小单位。



一个进程可含有多个线程，一个线程只隶属于一个进程。

### 单线程比多线程的优缺点

### 优点

- 不存在“锁“问题
- 没有上下文切换导致的开销
- 内存占用小

### 缺点

- CPU 密集型任务占用时间长
- 多核 CPU 浪费(可通过开启子进程解决)
- 抛出异常会导致整个程序崩溃



### 什么是孤儿进程？

父进程死了，子进程还在运行，这些进程会被系统收养，对应进程的 ppid 为 1，这就是孤儿进程



### 进程间通信（IPC）

- `stdio` 传递 json 通信。监听 `data` 事件可拿到流传递的数据
- 原生 `IPC` 支持。父子进程可以通过 `process.send` 以及 `message` 事件进行通信
- `socket` 网络通信
- `MQ` 通信

#### 参考

- [Nodejs进程间通信](http://www.ayqy.net/blog/nodejs进程间通信/)

## 流

### 流的种类

- 可读流 `Readable`
  - 流动模式
  - 暂停模式
- 可写流 `Writable`
- 双工流 `Duplex`
  - 半双工
  - 全双工
- 转换流 `Transform`



(下面是哪个分类？待查阅。。)

- 标准输入
- 标准输出
- 错误输出

#### 可读流

- 暂停模式（默认）
- 流动模式
  - 当调用`readable.pipe()`， `readable.resume()` 或绑定监听器到 `'data'` 事件时，流会转换到流动模式

### 参考链接

- [分享 10 道 Nodejs 进程相关面试题](https://juejin.im/post/5d082214f265da1bb564f97b)
- [Node.js 进阶之进程与线程](https://www.imooc.com/article/288006)
- [深入理解Node.js 中的进程与线程](https://juejin.im/post/5d43017be51d4561f40adcf9)



## 大文件上传 & 断点续传

- [字节跳动面试官：请你实现一个大文件上传和断点续传](https://juejin.im/post/5dff8a26e51d4558105420ed)



